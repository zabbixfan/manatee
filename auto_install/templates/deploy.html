<script language="javascript" charset="utf-8" src="static/js/loadinfo.js"></script>
<script language="javascript" charset="utf-8" src="static/js/load.js"></script>
<!--<script language="javascript" charset="utf-8" src="static/js/jquery-3.1.0.min.js"/>-->
<script type="text/javascript" src="static/assets/js/libs/jquery-1.10.2.min.js" />
<link href="static/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="static/bootstrap/js/bootstrap.min.js"></script>
{% extends 'base.html' %}
{% block content %}
<style>
body,button, input, select, textarea,h1 ,h2, h3, h4, h5, h6{ font-family: Microsoft YaHei,'宋体' , Tahoma, Helvetica, Arial, "\5b8b\4f53", sans-serif;}
.panel-body p{
cursor: pointer;
font-size:15px;
}
.panel-body{
border:1px solid #ddd;
padding:10px
}
.panel{
margin-bottom:3px
}
#submit{
margin:20px
}
#viewTabs{
background-color:white
}
#modulelist{
background-color:f9f9f9
}
</style>
<div class="col-md-3">
    <div id ="modulelist" class="widget-header list-group-item">
    </div>
</div>
<div class="col-md-9 well"> 
    <label class="col-md-2 control-label">选择更新包：<span class="required">*</span></label>
    <select style="width:200px" name="download" id="download" class="sys_server_select">
	  	<option value="-1">应用包地址</option>
      </select>
    <table style="margin-top:20px" class="table table-striped table-hover" name='viewTabs' id="viewTabs">
        <tr>
        <th ></th>
        <th>服务器地址</th>
        <th>应用名称</th>
        <th>部署目录</th>
        <th>部署用户</th>
     </tr>
    </table>
    <button class="btn btn-success" type="button" id="submit" data-toggle="modal"  data-target="#myModal">提交部署</button>
    <button class="btn btn-danger" type="button" id="rollback" data-toggle="modal"  data-target="#myModal1">提交回滚</button>
    <br><span id='result'></span>
</div>
<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" 
   aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
               data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h4 class="modal-title" id="myModalLabel">
               确认
            </h4>
         </div>
         <div class="modal-body">
            请确认是否更新发布
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-default" 
               data-dismiss="modal">关闭
            </button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="commit()">
               提交发布
            </button>
         </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" id="myModal1" tabindex="-1" role="dialog" 
   aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
               data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h4 class="modal-title" id="myModalLabel">
               确认
            </h4>
         </div>
         <div class="modal-body">
            请确认是否回滚至上一版本
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-default" 
               data-dismiss="modal">关闭
            </button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="rollback()">
               确认回滚
            </button>
         </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<script type="text/javascript" language="javascript">
    loadm();
 </script>
{% endblock %}
</body>
</html>
